{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","body","listThead","children","addEventListener","e","listElements","target","parentElement","classList","contains","forEach","tr","remove","tagName","add","sortElements","index","cellIndex","tableCell","textContent","th","toggle","sort","a","b","localeCompare","reverse","convertToNumber","value","split","join","slice","el","appendChild","form","createElement","innerHTML","append","preventDefault","data","FormData","items","Object","fromEntries","entries","nameEmployee","name","position","office","age","salary","item","pushNotification","isNaN","length","sal","replace","querySelectorAll","input","posTop","posRight","title","description","type","div","className","setAttribute","style","top","right","insertBefore","lastChild","setTimeout","cellInput","editStart","text","onkeyup","evt","key","blur","onblur","editEnd","replaceWith","focus","ondblclick"],"mappings":"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","file":"main.0b92f2d9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst body = document.querySelector('body');\nconst listThead = [...table.children[0].children[0].children];\n\ntable.addEventListener('click', (e) => {\n  const listElements = [...table.children[1].children];\n\n  if (!e.target.parentElement.classList.contains('active')) {\n    listElements.forEach(tr => tr.classList.remove('active'));\n  }\n\n  if (e.target.tagName === 'TD') {\n    e.target.parentElement.classList.add('active');\n  }\n\n  if (e.target.tagName === 'TH') {\n    let sortElements = '';\n    const index = e.target.cellIndex;\n    const tableCell = e.target.textContent;\n\n    if (!e.target.classList.contains(tableCell)) {\n      listThead.forEach(th => {\n        return th.classList\n          .remove('asc', 'Name', 'Position', 'Office', 'Age', 'Salary');\n      });\n    }\n\n    switch (tableCell) {\n      case 'Name':\n      case 'Position':\n      case 'Office':\n        e.target.classList.toggle('asc');\n\n        sortElements = listElements.sort((a, b) => {\n          return a.children[index].textContent\n            .localeCompare(b.children[index].textContent);\n        });\n\n        if (!e.target.classList.contains('asc')) {\n          sortElements.reverse();\n        };\n\n        e.target.classList.add(tableCell);\n        break;\n      case 'Age':\n        e.target.classList.toggle('asc');\n\n        sortElements = listElements.sort((a, b) => {\n          return (+a.children[index].textContent) - (+b\n            .children[index].textContent);\n        });\n\n        if (!e.target.classList.contains('asc')) {\n          sortElements.reverse();\n        };\n\n        e.target.classList.add(tableCell);\n        break;\n      case 'Salary':\n        e.target.classList.toggle('asc');\n\n        const convertToNumber = (value) => {\n          return +(value.children[index]\n            .textContent.split(',').join('').slice(1));\n        };\n\n        sortElements = listElements.sort((a, b) => {\n          return (convertToNumber(a)) - (convertToNumber(b));\n        });\n\n        if (!e.target.classList.contains('asc')) {\n          sortElements.reverse();\n        };\n\n        e.target.classList.add(tableCell);\n        break;\n    }\n    sortElements.forEach(el => table.children[1].appendChild(el));\n  }\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.innerHTML = `\n  <label>Name:\n    <input name=\"name\" type=\"text\" data-qa=\"name\">\n  </label>\n  <label>Position:\n    <input name=\"position\" type=\"text\" data-qa=\"position\">\n  </label>\n  <label>Office:\n    <select name=\"office\" data-qa=\"office\">\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age:\n    <input name=\"age\" type=\"text\" data-qa=\"age\">\n  </label>\n  <label>Salary:\n    <input name=\"salary\" type=\"text\" data-qa=\"salary\">\n  </label>\n  <button>Save to table</button>\n`;\n\nbody.append(form);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const items = Object.fromEntries(data.entries());\n  const { name: nameEmployee, position, office, age, salary } = items;\n\n  for (const item in items) {\n    if (items[item] === '') {\n      pushNotification(450, 30, `Error ${item}`,\n        `Enter ${item}`, 'error');\n\n      return;\n    }\n  };\n\n  if (isNaN(+age)) {\n    pushNotification(450, 30, 'Error age',\n      'Age must be number', 'error');\n\n    return;\n  } else if (isNaN(+salary)) {\n    pushNotification(450, 30, 'Error age',\n      'Salary must be number', 'error');\n\n    return;\n  } else if (nameEmployee.length < 4) {\n    pushNotification(450, 30, 'Error name',\n      'Name has 4 letters or more.', 'error');\n\n    return;\n  } else if (age < 18) {\n    pushNotification(450, 30, 'Age field',\n      'The employee must be 18 years old', 'error');\n\n    return;\n  } else if (age > 90) {\n    pushNotification(450, 30, 'Age field',\n      'The employee must be under 90 years old', 'error');\n\n    return;\n  }\n\n  const sal = `$${salary.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1,')}`;\n\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${nameEmployee}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>${sal}</td>\n  `;\n  table.children[1].append(tr);\n\n  pushNotification(450, 30, 'Add to table',\n    'Employee add to table', 'success');\n\n  document.querySelectorAll('input').forEach(input => {\n    input.value = '';\n  });\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const div = document.createElement('div');\n\n  div.className = `notification ${type}`;\n  div.setAttribute('data-qa', 'notification');\n  div.style.top = `${posTop}px`;\n  div.style.right = `${posRight}px`;\n\n  div.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n  `;\n\n  body.insertBefore(div, body.lastChild);\n\n  setTimeout(() => div.remove(), 3000);\n};\n\nlet cellInput = null;\n\ntable.ondblclick = function(e) {\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  const target = e.target;\n  const text = e.target.textContent;\n\n  editStart(target, text);\n};\n\nfunction editStart(target, text) {\n  target.innerHTML = `<input type=\"text\" class=\"cell-input\">`;\n  cellInput = document.querySelector('.cell-input');\n\n  cellInput.onkeyup = function(evt) {\n    if (evt.key === 'Enter') {\n      this.blur();\n    }\n  };\n\n  cellInput.onblur = function() {\n    editEnd(target, text);\n  };\n\n  target.replaceWith(cellInput);\n  cellInput.focus();\n}\n\nfunction editEnd(target, text) {\n  if (cellInput.value === '') {\n    target.innerHTML = text;\n  } else {\n    target.innerHTML = cellInput.value;\n  }\n  cellInput.replaceWith(target);\n}\n"]}